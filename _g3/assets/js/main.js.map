{"version":3,"sources":["webpack://lightning-g3/../node_modules/is-mobile/index.js","webpack://lightning-g3/webpack/bootstrap","webpack://lightning-g3/./assets/_js/_common.js","webpack://lightning-g3/./assets/_js/_master.js","webpack://lightning-g3/./assets/_js/_sidebar-fixed.js","webpack://lightning-g3/./inc/vk-mobile-nav/package/js/vk-mobile-nav.js"],"names":["module","exports","isMobile","default","mobileRE","tabletRE","opts","ua","navigator","userAgent","headers","result","tablet","test","featureDetect","maxTouchPoints","indexOf","__webpack_module_cache__","__webpack_require__","moduleId","__webpack_modules__","window","undefined","ltg","action","query","fn","Array","prototype","forEach","call","document","querySelectorAll","removeClass","className","elem","classList","remove","addClass","add","swap","remover","adder","bodyClass","pageYOffset","body","addEventListener","lightningOpt","header_scrool","body_class_timer","body_class_lock","header_scrool_func","remove_header","e","removeEventListener","clearTimeout","setTimeout","getElementsByTagName","href","getAttribute","iframe_responsive","i","iframeUrl","iframeWidth","iframeRate","newIframeHeight","offsetWidth","style","maxWidth","height","timer","sideFix_reset","sideSection","getElementsByClassName","position","top","bottom","left","right","width","sidebar_top_margin","gmenu","getElementById","getBoundingClientRect","sideFix_scroll","fix_priority","contains","wrap_width","window_height","documentElement","clientHeight","mainSection","parentSection","parentNode","content_position_top","content_height","offsetHeight","sidebar_height","sidebar_width","sidebar_position_bottom_default","sidebar_position_left_default","pageXOffset","sidebar_area_height","content_position_bottom_to_scroll","diff_content_and_sidebar_bottom","to_scroll_sidebar_bottom","to_scroll_sidebar_top_stop","is_sidebar_top_stop","is_sidebar_top_stop_release","is_sidebar_bottom_display","is_content_bottom_display","length","target","vk_mobile_nav_close","button","elm","breakPoint","vk_menu_acc_run","innerWidth","vk_menu_acc_clear","createElement","acc_click_action","insertBefore","event","self","parent","next","nextSibling","before_window_size","after_window_size","vk_menu_acc_resize","mobile","require","m"],"mappings":"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","file":"main.js","sourcesContent":["'use strict'\r\n\r\nmodule.exports = isMobile\r\nmodule.exports.isMobile = isMobile\r\nmodule.exports.default = isMobile\r\n\r\nvar mobileRE = /(android|bb\\d+|meego).+mobile|avantgo|bada\\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\\/|plucker|pocket|psp|series[46]0|symbian|treo|up\\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino/i\r\n\r\nvar tabletRE = /(android|bb\\d+|meego).+mobile|avantgo|bada\\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\\/|plucker|pocket|psp|series[46]0|symbian|treo|up\\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino|android|ipad|playbook|silk/i\r\n\r\nfunction isMobile (opts) {\r\n  if (!opts) opts = {}\r\n  var ua = opts.ua\r\n  if (!ua && typeof navigator !== 'undefined') ua = navigator.userAgent\r\n  if (ua && ua.headers && typeof ua.headers['user-agent'] === 'string') {\r\n    ua = ua.headers['user-agent']\r\n  }\r\n  if (typeof ua !== 'string') return false\r\n\r\n  var result = opts.tablet ? tabletRE.test(ua) : mobileRE.test(ua)\r\n\r\n  if (\r\n    !result &&\r\n    opts.tablet &&\r\n    opts.featureDetect &&\r\n    navigator &&\r\n    navigator.maxTouchPoints > 1 &&\r\n    ua.indexOf('Macintosh') !== -1 &&\r\n    ua.indexOf('Safari') !== -1\r\n  ) {\r\n    result = true\r\n  }\r\n\r\n  return result\r\n}\r\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tif(__webpack_module_cache__[moduleId]) {\n\t\treturn __webpack_module_cache__[moduleId].exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n",";((window) => {\n    if(window.ltg === undefined) {\n        window.ltg = {}\n        window.ltg.action = action\n        window.ltg.removeClass = removeClass\n        window.ltg.addClass = addClass\n        window.ltg.swap = swap\n\n        function action(query, fn) {\n            Array.prototype.forEach.call(\n                document.querySelectorAll(query),\n                fn\n            )\n        }\n\n        function removeClass(query, className) {\n            action(query, (elem)=>elem.classList.remove(className))\n        }\n\n        function addClass(query, className) {\n            action(query, (elem)=>elem.classList.add(className))\n        }\n\n        function swap(query, remover, adder) {\n            action(query, (elem)=>{\n                elem.classList.remove(remover)\n                elem.classList.add(adder)\n            })\n        }\n    }\n})(window);",";\n((window, document) => {\n    /*----------------------------------------------------------*/\n    /*  scroll\n    /*----------------------------------------------------------*/\n    // Scroll function\n    let bodyClass = () => {\n        if(window.pageYOffset > 0){\n            document.body.classList.add('scrolled')\n        }else{\n            document.body.classList.remove('scrolled')\n        }\n    }\n    window.addEventListener('scroll', bodyClass, false)\n    window.addEventListener('DOMContentLoaded', bodyClass, false)\n\n    if(lightningOpt.header_scrool){\n        let body_class_timer = false;\n        let body_class_lock = false;\n        let header_scrool_func = ()=>{\n            if(!body_class_lock && window.pageYOffset > 160){\n                document.body.classList.add('header_scrolled')\n            }else{\n                document.body.classList.remove('header_scrolled')\n            }\n        }\n\n        let remove_header = (e) => {\n            document.body.classList.remove('header_scrolled')\n            window.removeEventListener('scroll', header_scrool_func)\n            if (body_class_timer !== false) {\n                clearTimeout(body_class_timer)\n            }\n            body_class_lock = true\n            body_class_timer = setTimeout(()=>{\n                window.addEventListener('scroll', header_scrool_func, true)\n                body_class_lock = false\n            }, 2000);\n        }\n\n        window.addEventListener('DOMContentLoaded', () => {\n            Array.prototype.forEach.call(\n                document.getElementsByTagName('a'),\n                (elem) => {\n                    let href = elem.getAttribute('href')\n                    if(!href || href.indexOf('#') != 0) return;\n                    if (['tab', 'button'].indexOf(elem.getAttribute('role')) > 0) return;\n                    if (elem.getAttribute('data-toggle')) return;\n                    if (elem.getAttribute('carousel-control')) return;\n                    elem.addEventListener('click', remove_header)\n                }\n            )\n        });\n\n        window.addEventListener('scroll', header_scrool_func, true)\n        window.addEventListener('DOMContentLoaded', header_scrool_func, false)\n    }\n\n   /*-------------------------------------------*/\n    /*  iframeのレスポンシブ対応\n    /*-------------------------------------------*/\n    function iframe_responsive() {\n        Array.prototype.forEach.call(\n            document.getElementsByTagName('iframe'),\n            (i) => {\n                let iframeUrl = i.getAttribute('src')\n                if(!iframeUrl){return}\n                // iframeのURLの中に youtube か map が存在する位置を検索する\n                // 見つからなかった場合には -1 が返される\n                if (\n                    (iframeUrl.indexOf(\"youtube\") >= 0) ||\n                    (iframeUrl.indexOf(\"vimeo\") >= 0) ||\n                    (iframeUrl.indexOf(\"maps\") >= 0)\n                ) {\n                    var iframeWidth = i.getAttribute(\"width\");\n                    var iframeHeight = i.getAttribute(\"height\");\n                    var iframeRate = iframeHeight / iframeWidth;\n                    var nowIframeWidth = i.offsetWidth\n                    var newIframeHeight = nowIframeWidth * iframeRate;\n                    i.style.maxWidth = '100%'\n                    i.style.height = newIframeHeight + 'px'\n                }\n            }\n        );\n    }\n\n    window.addEventListener('DOMContentLoaded',iframe_responsive)\n    let timer = false;\n    window.addEventListener('resize', ()=>{\n        if (timer) clearTimeout(timer);\n        timer = setTimeout(iframe_responsive, 200);\n    })\n\n\n})(window, document);\n","/*-------------------------------------------*/\n/* スクロール時のサイドバー位置固定処理\n/*-------------------------------------------*/\n\n/*\n\n// 除外処理 ///////////////////////////////////////\n\n* ウィンドウサイズがタブレット以下の時\n* コンテンツエリアよりもサイドバーの高さが高い場合\n* １カラム（サブセクションありの場合）\n\n// 基本概念 ///////////////////////////////////////\n\n* A:上端優先\n\t サイドバー上端が画面上部にきたら一旦固定\n\t \n\t \tサイドバーが表示エリアよりも高い時 {\n\t\t\tコンテンツエリアとサイドバーの下端が揃う位置までスクロールされたら {\n\t\t\t\tコンテンツエリア下端とサイドバー下端の位置を揃える\n\t\t\t}\n\t\t} else {\n\t\t\t上部固定状態でのサイドバーの下端 より スクロールしてきたコンテンツエリアの下端が上になったら\n\t\t\t\tコンテンツエリア下端とサイドバー下端の位置を揃える\n\t\t}\n\n\n* B:下端優先\n\tサイドバーの表示エリアよりもサイドバーの高さが低い場合 {\n\t\t上端優先で固定する（固定したサイドバーの上側に余白ができた状態で固定されてしまうため）\n\t} else {\n\t\tサイドバーの下端まで表示されたらそこで固定する\n\t\t\t\tコンテンツエリア下端がサイドバー下端よりも上の位置にスクロールしたら\n\t\t\t\t\tコンテンツエリア下端とサイドバー下端の位置を揃える\n\t}\n*/\n\n;((window, document) => {\n\n    /* 読み込み / リサイズ時の処理\n    /*-------------------------------------------*/\n    window.addEventListener('scroll', ()=>{\n\n        if(!document.body.classList.contains('sidebar-fix')) return;\n        // サイドバーがなかったら処理中止\n\t\tif(document.getElementsByClassName('sub-section').length < 1) return;\n\t\t\n\t\tsideFix_scroll();\n\t});\n\n    window.addEventListener('resize', ()=>{\n\n        if(!document.body.classList.contains('sidebar-fix')) return;\n        // サイドバーがなかったら処理中止\n\t\tif(document.getElementsByClassName('sub-section').length < 1) return;\n\t\t\n\t\tsideFix_scroll();\n    });\n\n\n    /* リセット処理\n    /*-------------------------------------------*/\n    function sideFix_reset(){\n\t\tlet sideSection = document.getElementsByClassName('sub-section')[0]\n\t\tsideSection.style.position = null;\n\t\tsideSection.style.top = null;\n\t\tsideSection.style.bottom = null;\n\t\tsideSection.style.left = null;\n\t\tsideSection.style.right = null;\n\t\tsideSection.style.width = null;\n    }\n\n\tfunction sidebar_top_margin(){\n\t\tlet margin = 0;\n\n\t\t// 通常のスクロールナビの場合 ///////////\n\t\tlet gmenu = document.getElementById('global-nav')\n\t\tlet gmenuHeight = gmenu ? gmenu.getBoundingClientRect().bottom: 0;\n\n\t\t// 固定部分の下に追加する余白\n\t\tmargin = gmenuHeight + 40;\n\n\t\t// JPNの固定ナビの場合 ////////////////\n\t\treturn margin;\n\t}\n\n\n    /* スクロール時の処理\n    /*-------------------------------------------*/\n    function sideFix_scroll(){\n\n\t\tlet fix_priority = \"top\";\n\t\t// Bodyタグのクラスから上端優先か下端優先かを取得\n\t\tif( document.body.classList.contains('sidebar-fix-priority-top') == true ){\n\t\t\tfix_priority = \"top\";\n\t\t} else if ( document.body.classList.contains('sidebar-fix-priority-bottom') == true ){\n\t\t\tfix_priority = \"bottom\";\n\t\t}\n\n        // 画面の幅を取得\n        let wrap_width = document.body.offsetWidth\n        // 画面の高さを取得\n        let window_height = document.documentElement.clientHeight;\n\n        if ( wrap_width < 992 ) {\n            //** 画面幅が狭い（1カラム）の場合\n            // リセット処理\n            sideFix_reset()\n        } else {\n            //** 画面幅が広い（２カラム）の場合\n\n            let mainSection = document.getElementsByClassName('main-section')[0]\n\t\t\tlet sideSection = document.getElementsByClassName('sub-section')[0]\n\t\t\tlet parentSection = sideSection.parentNode;\n\n            // コンテンツエリア上端の位置を取得\n\t\t\tlet content_position_top = mainSection.getBoundingClientRect().top + window.pageYOffset;\n            // コンテンツエリアの高さを取得\n\t\t\tlet content_height = mainSection.offsetHeight\n\n\t\t\t// サイドバーの高さ\n\t\t\tlet sidebar_height = sideSection.offsetHeight\n\t\t\t// サイドバーの幅\n\t\t\tlet sidebar_width = sideSection.offsetWidth\n            // サイドバー下端までの距離 = コンテンツエリア開始位置 + サイドバーの高さ\n\t\t\tlet sidebar_position_bottom_default = content_position_top + sidebar_height;\n\t\t\t\n\t\t\t// サイドバー左端の位置（ Position:fixed の時に必要 ）\n\t\t\t// 一旦positionをリセットしないとウィンドウサイズを変更した時にもサイドバーの左右の位置がおかしくなる\n\t\t\tsideSection.style.position = null;\n\t\t\tsideSection.style.left = null;\n\t\t\tlet sidebar_position_left_default = sideSection.getBoundingClientRect().left  + window.pageXOffset;\n\n\t\t\t// サイドバーのウィンドウ内での表示領域 = ウィンドウ高さ - ヘッダー固定要素の高さ + 余白\n\t\t\tlet sidebar_area_height = window_height - sidebar_top_margin();\n\n\t\t\t// 下端優先だったとしても...\n\t\t\tif ( fix_priority === \"bottom\" ){\n\t\t\t\t// ウィンドウ内のサイドバー表示領域がサイドバーよりも高い場合\n\t\t\t\tif ( sidebar_area_height > sidebar_height ){\n\t\t\t\t\t// 上端優先処理\n\t\t\t\t\tfix_priority = \"top\";\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// コンテンツエリア下端の位置を取得 = 上端 + 要素の高さ\n\t\t\tlet content_position_bottom = content_position_top + content_height\n\t\t\t// コンテンツエリア下端を表示するまでスクロールしないといけない距離 = コンテンツエリア下端までの距離 - ウィンドウサイズ\n\t\t\tlet content_position_bottom_to_scroll = content_position_bottom - window_height;\n\n\t\t\t// コンテンツエリアとサイドバーの高さの差\n\t\t\tlet diff_content_and_sidebar_bottom = content_height - sidebar_height;\n\n\t\t\t// サイドバー下端を表示するまでスクロールしないといけない距離 = サイドバー下端までの距離 - ウィンドウサイズ\n\t\t\tlet to_scroll_sidebar_bottom = sidebar_position_bottom_default - window_height;\n\t\t\t// サイドバー上端が画面上部にくるまでにスクロールしないといけない距離 = サイドバーの開始位置 - サイドバー上部に確保したい余白\n\t\t\tlet to_scroll_sidebar_top_stop = content_position_top - sidebar_top_margin();\n\n            //  サイドバーがメインコンテンツよりも高い場合は処理しない\n            if ( sidebar_height > content_height ){ return; }\n\n\n\t\t\t/*-------------------------------------------*/\n\t\t\t// 上端優先 \n\t\t\t/*-------------------------------------------*/\n\n\t\t\t// サイドバー上端が画面上部までスクロールしたかどうか\n\t\t\t/*-------------------------------------------*/\n\t\t\tlet is_sidebar_top_stop = false;\n\t\t\tif ( to_scroll_sidebar_top_stop < window.pageYOffset ){\n\t\t\t\tis_sidebar_top_stop = true;\n\t\t\t}\n\n\t\t\t// トップ固定をリリースするタイミングかどうか\n\t\t\t/*-------------------------------------------*/\n\t\t\tlet is_sidebar_top_stop_release = false;\n\t\t\t\n\t\t\t// 上部固定状態でのサイドバーの下端 より スクロールしてきたコンテンツエリアの下端が上になったら\n\t\t\t// ※サイドバーの高さが表示エリア内かどうかは関係ない\n\t\t\tif ( sidebar_top_margin() + sidebar_height > mainSection.getBoundingClientRect().bottom ){\n\t\t\t\t// コンテンツエリア下端とサイドバー下端の位置を揃える\n\t\t\t\tis_sidebar_top_stop_release = true;\n\t\t\t}\n\n\t\t\t/*-------------------------------------------*/\n\t\t\t// 下端優先\n\t\t\t/*-------------------------------------------*/\n\n\t\t\t// サイドバー下端が表示されたかどうか\n\t\t\tlet is_sidebar_bottom_display = false;\n\t\t\tif ( to_scroll_sidebar_bottom < window.pageYOffset ){\n\t\t\t\tis_sidebar_bottom_display = true;\n\t\t\t}\n\n\t\t\t// コンテンツエリア下端が表示されたかどうか\n\t\t\tlet is_content_bottom_display = false;\n\t\t\tif ( content_position_bottom_to_scroll < window.pageYOffset ){\n\t\t\t\tis_content_bottom_display = true;\n\t\t\t}\n\n\n\t\t\t/*-------------------------------------------*/\n\t\t\t// DOM操作（上端優先）\n\t\t\t/*-------------------------------------------*/\n\t\t\tif ( fix_priority === \"top\" ) {\n\t\t\t\t// 上部固定するタイミングになったら\n\t\t\t\tif ( is_sidebar_top_stop ) {\n\t\t\t\t\tsideSection.style.position = \"fixed\";\n\t\t\t\t\tsideSection.style.top = sidebar_top_margin() + \"px\";\n\t\t\t\t\tsideSection.style.left = sidebar_position_left_default + \"px\";\n\t\t\t\t\tsideSection.style.width = sidebar_width + \"px\";\n\t\t\t\t\t// 固定解除\n\t\t\t\t\tif ( is_sidebar_top_stop_release ){\n\t\t\t\t\t\tsideSection.style.position = null;\n\t\t\t\t\t\tsideSection.style.left = null;\n\t\t\t\t\t\tsideSection.style.width = null;\n\t\t\t\t\t\t// 固定解除したときににサイドバー上部に余白を付与\n\t\t\t\t\t\tsideSection.style.top = diff_content_and_sidebar_bottom + \"px\";\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tsideFix_reset();\n\t\t\t\t}\n\n\t\t\t/*-------------------------------------------*/\n\t\t\t// DOM操作（下端優先）\n\t\t\t/*-------------------------------------------*/\n\t\t\t} else {\n\n\t\t\t\t// サイドバー下端が表示されたら\n\t\t\t\tif ( is_sidebar_bottom_display ){\n\t\t\t\t\tsideSection.style.position = \"fixed\";\n\t\t\t\t\tsideSection.style.bottom = \"30px\";\n\t\t\t\t\tsideSection.style.left = sidebar_position_left_default + \"px\";\n\t\t\t\t\tsideSection.style.width = sidebar_width + \"px\";\n\t\t\t\t\t\n\t\t\t\t\t// コンテンツエリア下端が表示されたら\n\t\t\t\t\tif ( is_content_bottom_display ){\n\t\t\t\t\t\tsideSection.style.left = null;\n\t\t\t\t\t\tparentSection.style.position = \"relative\";\n\t\t\t\t\t\tsideSection.style.position = \"absolute\";\n\t\t\t\t\t\tsideSection.style.top = null;\n\t\t\t\t\t\tsideSection.style.bottom = 0;\n\n\t\t\t\t\t\t// 右サイトバーの時は absolute になるので right = 0 を付与しないといけなくなる\n\t\t\t\t\t\tif ( sideSection.classList.contains('sub-section--pos--left') != true ){\n\t\t\t\t\t\t\tsideSection.style.right = 0;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tsideFix_reset();\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// console.log( 'スクロール : ' + window.pageYOffset);\n\t\t\t// console.log( 'content_position_top : ' + content_position_top);\n\t\t\t// console.log( 'sidebar_height : ' + sidebar_height);\n\t\t\t// console.log( 'sidebar_area_height : ' + sidebar_area_height);\n\t\t\t// console.log( 'is_sidebar_bottom_display : ' + is_sidebar_bottom_display);\n\t\t\t// console.log( 'is_content_bottom_display : ' + is_content_bottom_display);\n\t\t\t// console.log( 'content_position_bottom : ' + content_position_bottom);\n\t\t\t// console.log( 'content_position_bottom_to_scroll : ' + content_position_bottom_to_scroll);\n\t\t\t// console.log( 'sidebar_position_left_default : ' + sidebar_position_left_default);\n\n        }\n    }\n})(window, document);\n","/* ************************************* */\n\n/* **** Caution **** */\n\n/*\nThis riginal file is following place.\nhttps://github.com/vektor-inc/vektor-wp-libraries\nIf you want to change this file that, you have to change original file.\n*/\n\n/* ************************************* */\n\n((window, document) => {\n\tfunction action(query, fn) {\n\t\tArray.prototype.forEach.call(\n\t\t\tdocument.querySelectorAll(query),\n\t\t\tfn\n\t\t)\n\t}\n\n\tfunction removeClass(query, className) {\n\t\taction(query, (elem)=>elem.classList.remove(className))\n\t}\n\n\tfunction addClass(query, className) {\n\t\taction(query, (elem)=>elem.classList.add(className))\n\t}\n\n\n\t(function(window, document, target) {\n\t\t/*-------------------------------------*/\n\t\t/*\n\t\t/*-------------------------------------*/\n\t\t// メニューを閉じる\n\t\tfunction vk_mobile_nav_close(target){\n\t\t\t// ※ fix nav の方を押される事もある\n\t\t\tdocument.getElementById('vk-mobile-nav-menu-btn').classList.remove('menu-open')\n\t\t\t// メニュー本体から .vk-mobile-nav-open を削除\n\t\t\tdocument.getElementById('vk-mobile-nav').classList.remove('vk-mobile-nav-open')\n\t\t}\n\n\t\t// 実行関数\n\t\tfunction vk_mobile_nav_run(target){\n\t\t\t/*\n\t\t\tモバイル固定ナビ利用時にアイコンフォントのタグを押されてしまうので\n\t\t\taddEventListener('click', (e) => からの e.target.classList などで取得しても\n\t\t\tfontawesome のクラス名が返ってきて誤動作してしまうため、buttn に一旦格納\n\t\t\t*/\n\t\t\tlet button = document.getElementById('vk-mobile-nav-menu-btn');\n\t\t\tbutton.addEventListener('click', () => {\n\t\t\t\tif( button.classList.contains('menu-open') ){\n\t\t\t\t\tvk_mobile_nav_close(target);\n\t\t\t\t}else{\n\t\t\t\t\taddClass(target, 'menu-open')\n\t\t\t\t\tdocument.getElementById('vk-mobile-nav').classList.add('vk-mobile-nav-open')\n\t\t\t\t}\n\t\t\t})\n\n\t\t\taction('.vk-mobile-nav li > a', (elm) => {\n\t\t\t\telm.addEventListener('click', (e) => {\n\t\t\t\t\tlet me = e.target\n\t\t\t\t\tlet href = me.getAttribute('href')\n\n\t\t\t\t\t// クリックされたリンク先がページ内リンクかどうか\n\t\t\t\t\tif(href.indexOf('#' == 0)) {\n\t\t\t\t\t\tvk_mobile_nav_close('.vk-mobile-nav-menu-btn');\n\t\t\t\t\t}else{\n\t\t\t\t\t\t// 閉じない\n\t\t\t\t\t\t// ページ内リンク以外で閉じるとモバイルSafariにおいて\n\t\t\t\t\t\t// 閉じる動作の途中で画面遷移時に画面を停止させられるため\n\t\t\t\t\t\t// ページ内リンク以外では閉じないようにする\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t})\n\t\t}\n\n\t\t// モバイルナビの実行\n\t\twindow.addEventListener('DOMContentLoaded', () => {\n\t\t\tvk_mobile_nav_run(target);\n\t\t});\n\n\t})(window, document, '.vk-mobile-nav-menu-btn');\n\n\t/*-------------------------------------*/\n\t/*  sub item accordion\n\t/*-------------------------------------*/\n\t;\n\t(function(breakPoint) {\n\t\tfunction vk_menu_acc_run() {\n\t\t\t// var breakPoint = 767;\n\t\t\t// var bodyWidth = jQuery(window).width();\n\t\t\t/*\n\t\t\tcssのメディアクエリがスクロールバーを含んだ幅になるので、\n\t\t\tjs側もスクロールバーを含んだ幅にするため window.innerWidth を使用\n\t\t\t*/\n\t\t\tvar bodyWidth = window.innerWidth;\n\n\t\t\t// ブレイクポイントより小さい場合\n\t\t\tif (bodyWidth <= breakPoint) {\n\t\t\t\tvk_menu_acc_clear()\n\t\t\t\tvk_menu_acc_init();\n\t\t\t} else {\n\t\t\t\tvk_menu_acc_clear();\n\t\t\t}\n\t\t}\n\n\t\tfunction vk_menu_acc_clear() {\n\t\t\tremoveClass('ul.vk-menu-acc', 'vk-menu-acc-active')\n\t\t\tremoveClass('ul.vk-menu-acc li', 'acc-parent-open')\n\t\t\taction('ul.vk-menu-acc li .acc-btn', (elm) => elm.remove())\n\t\t\tremoveClass('ul.vk-menu-acc li .acc-child-close', 'acc-child-close')\n\t\t\tremoveClass('ul.vk-menu-acc li .acc-child-open', 'acc-child-open')\n\t\t}\n\n\t\tfunction vk_menu_acc_init() {\n\t\t\t// アクティブクラスを付与\n\t\t\taddClass('ul.vk-menu-acc', 'vk-menu-acc-active')\n\n\t\t\taction('ul.vk-menu-acc ul.sub-menu', (elm) => {\n\t\t\t\tlet button = document.createElement('span')\n\t\t\t\tbutton.classList.add('acc-btn','acc-btn-open')\n\t\t\t\tbutton.addEventListener('click', acc_click_action)\n\n\t\t\t\telm.parentNode.insertBefore(button, elm)\n\t\t\t\telm.classList.add('acc-child-close')\n\t\t\t})\n\t\t}\n\n\t\tfunction acc_click_action(event) {\n\t\t\tlet self = event.target,\n\t\t\tparent = self.parentNode,\n\t\t\tnext = self.nextSibling\n\n\t\t\tif (self.classList.contains('acc-btn-open')) {\n\t\t\t\t// 親である li に open クラス追加\n\t\t\t\tparent.classList.add('acc-parent-open')\n\t\t\t\tself.classList.remove('acc-btn-open')\n\t\t\t\tself.classList.add('acc-btn-close')\n\n\t\t\t\tnext.classList.remove('acc-child-close')\n\t\t\t\tnext.classList.add('acc-child-open')\n\t\t\t}else{\n\t\t\t\t// 閉じるボタンがクリックされたら\n\n\t\t\t\t// 親である li から open クラス除去\n\t\t\t\tparent.classList.remove('acc-parent-open')\n\t\t\t\t// クリックされた閉じるボタンから close クラスを除去して open クラス追加\n\t\t\t\tself.classList.remove('acc-btn-close')\n\t\t\t\tself.classList.add('acc-btn-open')\n\t\t\t\t// $(self).removeClass('acc-btn-close').addClass('acc-btn-open');\n\t\t\t\t// 下階層となる ul 要素から open クラスを除去して close クラス追加\n\t\t\t\tnext.classList.remove('acc-child-open')\n\t\t\t\tnext.classList.add('acc-child-close')\n\t\t\t}\n\t\t}\n\n\t\tfunction vk_menu_acc_resize() {\n\t\t\tlet timer = false,\n\t\t\t// リサイズ前のウィンドウサイズ\n\t\t\tbefore_window_size = document.body.offsetWidth,\n\t\t\t// リサイズを作動させない幅\n\t\t\twindow_size_margin = 8,\n\n\t\t\taction = () => {\n\t\t\t\t/*\n\t\t\t\tスマートフォンにおいてスライドしてスクロールバー表示された時、\n\t\t\t\t消える時でリサイズ判定されてしまうので、\n\t\t\t\tスクロールバー相当の幅以上の変化があった時のみ実行する\n\t\t\t\t*/\n\n\t\t\t\t// リサイズ後のウィンドウサイズ\n\t\t\t\tlet after_window_size = document.body.offsetWidth\n\n\t\t\t\t// これより大きくなってたら実行するサイズ\n\t\t\t\tlet max_change_size = before_window_size + window_size_margin\n\n\t\t\t\t// これより小さくなってたら実行するサイズ\n\t\t\t\tlet min_change_size = before_window_size - window_size_margin\n\n\t\t\t\tif (after_window_size < min_change_size || max_change_size < after_window_size) {\n\t\t\t\t\tvk_menu_acc_run();\n\t\t\t\t\t// console.log( min_change_size + ' < ' + after_window_size + ' < ' + max_change_size);\n\t\t\t\t\t// console.log('Resize run');\n\t\t\t\t\tbefore_window_size = after_window_size;\n\t\t\t\t\t// console.log('before_window_size : ' + before_window_size);\n\t\t\t\t} else {\n\t\t\t\t\t// console.log( min_change_size + ' < ' + after_window_size + ' < ' + max_change_size);\n\t\t\t\t\t// console.log('Resize none');\n\t\t\t\t}\n\t\t\t}\n\n\t\t\twindow.addEventListener('resize', () => {\n\t\t\t\tif (timer !== false) {\n\t\t\t\t\tclearTimeout(timer);\n\t\t\t\t}\n\t\t\t\ttimer = setTimeout(action, 500)\n\t\t\t})\n\t\t}\n\n\t\tvk_menu_acc_resize()\n\n\t\tdocument.addEventListener('DOMContentLoaded', vk_menu_acc_run)\n\t})(5000);\n})(window, document);\n\nconst mobile = require('is-mobile');\n((document)=>{\n\twindow.addEventListener('DOMContentLoaded', ()=>{\n\t\tconst isMobile = mobile.isMobile({tablet:true})\n\t\t;['device-mobile', 'device-pc'].forEach((m)=>document.body.classList.remove(m))\n\t\tdocument.body.classList.add(isMobile? 'device-mobile': 'device-pc')\n\t})\n})(document)\n"],"sourceRoot":""}